# About

These scripts read metadata from CDAWeb "masters" and SPASE records referenced therein and outputs

1. HAPI metadata
2. SQL tables of [CDAWeb](http://bobweigel.info/meta/cdaweb/), [HAPI](http://bobweigel.info/meta/hapi/), and SPASE metadata

Metadata generated by this code is available at http://mag.gmu.edu/git-data/cdawmeta/data

# Running

```
git clone https://github.com/rweigel/cdawmeta.git
cd cdawmeta
make hapi-new
```

See the comments in `Makefile` for additional execution options.

The Makefile commands above execute the following

```
python cdaweb.py         # creates data/catalog-all.json
python hapi/hapi-new.py  # creates data/hapi/hapi-new.json and
                         # data/info/*.json using data/catalog-all.json
```

# Compare

To compare the new HAPI metadata with Nand's, first execute `cdaweb.py` then

```
python hapi/hapi-nl.py   # creates data/hapi/catalog-all.nl.json using requests to
                         # https://cdaweb.gsfc.nasa.gov/hapi/{catalog,info}
make compare [--include='PATTERN'] # creates data/hapi/compare.log
# PATTERN is a dataset ID regular expression, e.g., '^AC_'
```

# Browse and Search

See `table/README.md` for browsing and searching metadata from a web interface.
